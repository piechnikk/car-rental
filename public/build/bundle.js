var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,c;function i(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function x(){return h(" ")}function b(){return h("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function $(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function _(t,e){return new t(e)}function C(t){c=t}function j(){if(!c)throw new Error("Function called outside component initialization");return c}function S(){const t=j();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}function E(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const M=[],T=[];let L=[];const O=[],N=Promise.resolve();let D=!1;function I(){D||(D=!0,N.then(H))}function R(t){L.push(t)}const U=new Set;let B=0;function H(){if(0!==B)return;const t=c;do{try{for(;B<M.length;){const t=M[B];B++,C(t),P(t.$$)}}catch(t){throw M.length=0,B=0,t}for(C(null),M.length=0,B=0;T.length;)T.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];U.has(e)||(U.add(e),e())}L.length=0}while(M.length);for(;O.length;)O.pop()();D=!1,U.clear(),C(t)}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const A=new Set;let F;function Y(){F={r:0,c:[],p:F}}function z(){F.r||o(F.c),F=F.p}function q(t,e){t&&t.i&&(A.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(A.has(t))return;A.add(t),F.c.push((()=>{A.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function J(t,e){const n=e.token={};function r(t,r,o,l){if(e.token!==n)return;e.resolved=l;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=l);const a=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(Y(),Z(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),z())})):e.block.d(1),a.c(),q(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&H()}if(!(o=t)||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then){if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}else{const n=j();if(t.then((t=>{C(n),r(e.then,1,e.value,t),C(null)}),(t=>{if(C(n),r(e.catch,2,e.error,t),C(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}var o}function W(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}function G(t,e){const n={},r={},o={$$scope:1};let l=t.length;for(;l--;){const s=t[l],a=e[l];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[l]=a}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function V(t){return"object"==typeof t&&null!==t?t:{}}function X(t){t&&t.c()}function Q(t,e,r,s){const{fragment:a,after_update:c}=t.$$;a&&a.m(e,r),s||R((()=>{const e=t.$$.on_mount.map(n).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(R)}function K(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];L.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),L=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,n,l,s,a,i,u,d=[-1]){const m=c;C(e);const p=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(m?m.$$.context:[])),callbacks:r(),dirty:d,skip_bound:!1,root:n.target||m.$$.root};u&&u(p.root);let g=!1;if(p.ctx=l?l(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),g&&function(t,e){-1===t.$$.dirty[0]&&(M.push(t),I(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&q(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),H()}C(m)}class et{$destroy(){K(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class nt extends et{constructor(t){super(),tt(this,t,null,null,s,{})}}const rt=[];function ot(t,e){return{subscribe:lt(t,e).subscribe}}function lt(e,n=t){let r;const o=new Set;function l(t){if(s(e,t)&&(e=t,r)){const t=!rt.length;for(const t of o)t[1](),rt.push(t,e);if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,a=t){const c=[s,a];return o.add(c),1===o.size&&(r=n(l)||t),s(e),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}function st(e,n,r){const s=!Array.isArray(e),a=s?[e]:e,c=n.length<2;return ot(r,(e=>{let r=!1;const i=[];let u=0,d=t;const f=()=>{if(u)return;d();const r=n(s?i[0]:i,e);c?e(r):d=l(r)?r:t},m=a.map(((e,n)=>function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(e,(t=>{i[n]=t,u&=~(1<<n),r&&f()}),(()=>{u|=1<<n}))));return r=!0,f(),function(){o(m),d(),r=!1}}))}function at(t){let n,r,o;const l=[t[2]];var s=t[0];function a(t){let n={};for(let t=0;t<l.length;t+=1)n=e(n,l[t]);return{props:n}}return s&&(n=_(s,a()),n.$on("routeEvent",t[7])),{c(){n&&X(n.$$.fragment),r=b()},m(t,e){n&&Q(n,t,e),d(t,r,e),o=!0},p(t,e){const o=4&e?G(l,[V(t[2])]):{};if(1&e&&s!==(s=t[0])){if(n){Y();const t=n;Z(t.$$.fragment,1,0,(()=>{K(t,1)})),z()}s?(n=_(s,a()),n.$on("routeEvent",t[7]),X(n.$$.fragment),q(n.$$.fragment,1),Q(n,r.parentNode,r)):n=null}else s&&n.$set(o)},i(t){o||(n&&q(n.$$.fragment,t),o=!0)},o(t){n&&Z(n.$$.fragment,t),o=!1},d(t){t&&f(r),n&&K(n,t)}}}function ct(t){let n,r,o;const l=[{params:t[1]},t[2]];var s=t[0];function a(t){let n={};for(let t=0;t<l.length;t+=1)n=e(n,l[t]);return{props:n}}return s&&(n=_(s,a()),n.$on("routeEvent",t[6])),{c(){n&&X(n.$$.fragment),r=b()},m(t,e){n&&Q(n,t,e),d(t,r,e),o=!0},p(t,e){const o=6&e?G(l,[2&e&&{params:t[1]},4&e&&V(t[2])]):{};if(1&e&&s!==(s=t[0])){if(n){Y();const t=n;Z(t.$$.fragment,1,0,(()=>{K(t,1)})),z()}s?(n=_(s,a()),n.$on("routeEvent",t[6]),X(n.$$.fragment),q(n.$$.fragment,1),Q(n,r.parentNode,r)):n=null}else s&&n.$set(o)},i(t){o||(n&&q(n.$$.fragment,t),o=!0)},o(t){n&&Z(n.$$.fragment,t),o=!1},d(t){t&&f(r),n&&K(n,t)}}}function it(t){let e,n,r,o;const l=[ct,at],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=l[e](t),{c(){n.c(),r=b()},m(t,n){s[e].m(t,n),d(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(Y(),Z(s[c],1,1,(()=>{s[c]=null})),z(),n=s[e],n?n.p(t,o):(n=s[e]=l[e](t),n.c()),q(n,1),n.m(r.parentNode,r))},i(t){o||(q(n),o=!0)},o(t){Z(n),o=!1},d(t){s[e].d(t),t&&f(r)}}}function ut(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const dt=ot(null,(function(t){t(ut());const e=()=>{t(ut())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));st(dt,(t=>t.location)),st(dt,(t=>t.querystring));const ft=lt(void 0);function mt(t,e,n){let{routes:r={}}=e,{prefix:o=""}=e,{restoreScrollState:l=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,o,l,s=[],a="",c=t.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=o.indexOf("?",1),l=o.indexOf(".",1),s.push(o.substring(1,~r?r:~l?l:o.length)),a+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(a+=(~r?"?":"")+"\\"+o.substring(l))):a+="/"+o;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(o)if("string"==typeof o){if(!t.startsWith(o))return null;t=t.substr(o.length)||"/"}else if(o instanceof RegExp){const e=t.match(o);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(r).forEach((t=>{a.push(new s(t,r[t]))}));let c=null,i=null,u={};const d=S();async function f(t,e){await(I(),N),d(t,e)}let m=null,p=null;var g;l&&(p=t=>{m=t.state&&(t.state.__svelte_spa_router_scrollY||t.state.__svelte_spa_router_scrollX)?t.state:null},window.addEventListener("popstate",p),g=()=>{var t;(t=m)?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)},j().$$.after_update.push(g));let h=null,x=null;const b=dt.subscribe((async t=>{h=t;let e=0;for(;e<a.length;){const r=a[e].match(t.location);if(!r){e++;continue}const o={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await a[e].checkConditions(o))return n(0,c=null),x=null,void f("conditionsFailed",o);f("routeLoading",Object.assign({},o));const l=a[e].component;if(x!=l){l.loading?(n(0,c=l.loading),x=l,n(1,i=l.loadingParams),n(2,u={}),f("routeLoaded",Object.assign({},o,{component:c,name:c.name,params:i}))):(n(0,c=null),x=null);const e=await l();if(t!=h)return;n(0,c=e&&e.default||e),x=l}return r&&"object"==typeof r&&Object.keys(r).length?n(1,i=r):n(1,i=null),n(2,u=a[e].props),void f("routeLoaded",Object.assign({},o,{component:c,name:c.name,params:i})).then((()=>{ft.set(i)}))}n(0,c=null),x=null,ft.set(void 0)}));return function(t){j().$$.on_destroy.push(t)}((()=>{b(),p&&window.removeEventListener("popstate",p)})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,o=t.prefix),"restoreScrollState"in t&&n(5,l=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=l?"manual":"auto")},[c,i,u,r,o,l,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)}]}class pt extends et{constructor(t){super(),tt(this,t,mt,it,s,{routes:3,prefix:4,restoreScrollState:5})}}function gt(e){let n;return{c(){n=p("div"),n.innerHTML='<svg aria-hidden="true" class="inline w-8 h-8 text-gray-900 fill-gray-200 animate-spin" viewBox="0 0 100 101" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="white"></path></svg>',v(n,"role","status")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}class ht extends et{constructor(t){super(),tt(this,t,null,gt,s,{})}}async function xt(){const t=await fetch("./backend/session.php"),e=await t.json();return console.log(e),e}function bt(t,e,n=null){null==n&&(n=document.getElementsByTagName("main")[0]);let r=document.createElement("div");r.className="fixed m-auto w-full mt-2 transition-opacity duration-500 opacity-0 top-0 z-1";let o=document.createElement("p");o.className="text-white block pt-2 pb-2 text-center text-lg font-bold w-full rounded m-auto",o.classList.add(t?"bg-red-600":"bg-green-500"),o.innerText=e,r.appendChild(o),n.append(r),setTimeout((()=>{r.classList.add("opacity-90"),r.classList.remove("opacity-0"),setTimeout((()=>{r.classList.remove("opacity-90"),r.classList.add("opacity-0"),setTimeout((()=>{n.removeChild(r)}),500)}),4e3)}),10)}function yt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function vt(e){let n,r=e[3].logged&&function(e){let n;function r(t,e){return"admin"==t[3].account_type?_t:"mod"==t[3].account_type?$t:"activateUser"==t[3].account_type?kt:wt}let o=r(e),l=o(e);return{c(){n=p("nav"),l.c(),v(n,"class","sm:mr-auto sm:ml-4 sm:py-1 sm:pl-4 sm:border-l sm:border-gray-700 flex flex-wrap items-center text-base justify-center")},m(t,e){d(t,n,e),l.m(n,null)},p:t,d(t){t&&f(n),l.d()}}}(e);return{c(){r&&r.c(),n=b()},m(t,e){r&&r.m(t,e),d(t,n,e)},p(t,e){t[3].logged&&r.p(t,e)},i:t,o:t,d(t){r&&r.d(t),t&&f(n)}}}function wt(t){let e;return{c(){e=p("p"),e.textContent="Your account has not been activated",v(e,"class","text-red-500")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function kt(t){let e;return{c(){e=p("a"),e.textContent="My reservations",v(e,"href","#/reservations"),v(e,"class","hover:text-white")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function $t(t){let e,n,r;return{c(){e=p("a"),e.textContent="My reservations",n=x(),r=p("a"),r.textContent="Mod",v(e,"href","#/reservations"),v(e,"class","hover:text-white"),v(r,"href","#/mod"),v(r,"class","ml-5 sm:ml-3 md:ml-5 hover:text-white")},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function _t(t){let e,n,r,o,l;return{c(){e=p("a"),e.textContent="My reservations",n=x(),r=p("a"),r.textContent="Mod",o=x(),l=p("a"),l.textContent="Admin",v(e,"href","#/reservations"),v(e,"class","hover:text-white"),v(r,"href","#/mod"),v(r,"class","ml-5 sm:ml-3 md:ml-5 hover:text-white"),v(l,"href","#/admin"),v(l,"class","ml-5 sm:ml-3 md:ml-5 hover:text-white")},m(t,s){d(t,e,s),d(t,n,s),d(t,r,s),d(t,o,s),d(t,l,s)},d(t){t&&f(e),t&&f(n),t&&f(r),t&&f(o),t&&f(l)}}}function Ct(e){let n,r,o;return r=new ht({}),{c(){n=p("div"),X(r.$$.fragment),v(n,"class","inline-flex sm:ml-8 sm:mt-0 mt-4 justify-center sm:justify-start")},m(t,e){d(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(q(r.$$.fragment,t),o=!0)},o(t){Z(r.$$.fragment,t),o=!1},d(t){t&&f(n),K(r)}}}function jt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function St(e){let n;let r=function(t,e){return t[3].logged?Mt:Et}(e),o=r(e);return{c(){o.c(),n=b()},m(t,e){o.m(t,e),d(t,n,e)},p(t,e){o.p(t,e)},i:t,o:t,d(t){o.d(t),t&&f(n)}}}function Et(e){let n;return{c(){n=p("div"),n.innerHTML='<a href="#/login" class="inline-flex items-center bg-green-500 border-0 py-1 px-3 focus:outline-none hover:bg-green-600 rounded text-base sm:text-sm md:text-base mt-4 sm:mt-0">Sign in\n                        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1 sm:hidden md:block" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"></path></svg></a> \n                    <a href="#/register" class="inline-flex items-center bg-green-500 border-0 py-1 px-3 focus:outline-none hover:bg-green-600 rounded text-base sm:text-sm md:text-base mt-4 sm:mt-0 ml-3">Sign up\n                        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1 sm:hidden md:block" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"></path></svg></a>',v(n,"class","inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start")},m(t,e){d(t,n,e)},p:t,d(t){t&&f(n)}}}function Mt(e){let n,r,o;return{c(){n=p("button"),n.innerHTML='Log out\n                    <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1 sm:hidden md:block" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"></path></svg>',v(n,"class","inline-flex items-center bg-green-500 border-0 py-1 px-3 focus:outline-none hover:bg-green-600 rounded text-base sm:text-sm md:text-base mt-4 sm:mt-0")},m(t,l){d(t,n,l),r||(o=y(n,"click",e[1]),r=!0)},p:t,d(t){t&&f(n),r=!1,o()}}}function Tt(e){let n,r,o;return r=new ht({}),{c(){n=p("div"),X(r.$$.fragment),v(n,"class","inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start")},m(t,e){d(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(q(r.$$.fragment,t),o=!0)},o(t){Z(r.$$.fragment,t),o=!1},d(t){t&&f(n),K(r)}}}function Lt(t){let e,n,r,o,l,s,a={ctx:t,current:null,token:null,hasCatch:!1,pending:Ct,then:vt,catch:yt,value:3,blocks:[,,,]};J(t[0],a);let c={ctx:t,current:null,token:null,hasCatch:!1,pending:Tt,then:St,catch:jt,value:3,blocks:[,,,]};return J(t[0],c),{c(){e=p("header"),n=p("div"),r=p("a"),r.innerHTML='<img src="./assets/car.png" alt="White car"/> \n            <span class="ml-3 text-xl">Car-Rental</span>',o=x(),a.block.c(),l=x(),c.block.c(),v(r,"href","./"),v(r,"class","flex title-font font-medium items-center text-white mb-4 sm:mb-0"),v(n,"class","container mx-auto flex flex-wrap p-5 flex-col sm:flex-row items-center"),v(e,"class","text-white bg-gray-900 body-font")},m(t,i){d(t,e,i),u(e,n),u(n,r),u(n,o),a.block.m(n,a.anchor=null),a.mount=()=>n,a.anchor=l,u(n,l),c.block.m(n,c.anchor=null),c.mount=()=>n,c.anchor=null,s=!0},p(e,[n]){W(a,t=e,n),W(c,t,n)},i(t){s||(q(a.block),q(c.block),s=!0)},o(t){for(let t=0;t<3;t+=1){Z(a.blocks[t])}for(let t=0;t<3;t+=1){Z(c.blocks[t])}s=!1},d(t){t&&f(e),a.block.d(),a.token=null,a=null,c.block.d(),c.token=null,c=null}}}function Ot(t){return[async function(){return await xt()}(),async function(){await fetch("./backend/logout.php"),bt(!1,"Successfully logged out",document.getElementsByTagName("main")[0]),setInterval((()=>{location.reload()}),1e3)}]}class Nt extends et{constructor(t){super(),tt(this,t,Ot,Lt,s,{})}}function Dt(e){let n;return{c(){n=p("footer"),n.innerHTML='<div class="container px-5 py-5 mx-auto flex items-center sm:flex-row flex-col"><a href="./" class="flex title-font font-medium items-center md:justify-start justify-center text-white"><img src="./assets/car.png" alt="White car"/> \n        <span class="ml-3 text-xl">Car-Rental</span></a> \n      <p class="text-sm text-gray-400 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-800 sm:py-2 sm:mt-0 mt-4">© 2021 Car-Rental —\n        <a href="https://github.com/piechnikk" class="text-gray-500 ml-1 hover:underline hover:text-white" target="_blank" rel="noopener noreferrer">@piechnikk</a></p> \n      <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start"><a href="https://facebook.com" target="_blank" class="text-gray-400 hover:text-white"><svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a> \n        <a href="https://twitter.com" target="_blank" class="ml-3 text-gray-400 hover:text-white"><svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a> \n        <a href="https://instagram.com" target="_blank" class="ml-3 text-gray-400 hover:text-white"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path></svg></a></span></div>',v(n,"class","text-gray-400 bg-gray-900 body-font")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}class It extends et{constructor(t){super(),tt(this,t,null,Dt,s,{})}}function Rt(e){let n,r,o,l,s,a,c,m,b,y,k,$,_,C,j,S,E,M,T,L,O,N,D,I;return{c(){n=p("div"),r=p("div"),o=p("img"),a=x(),c=p("div"),m=p("div"),b=p("h2"),y=h(e[0]),k=x(),$=p("p"),_=h("Year: "),C=h(e[1]),j=x(),S=p("h2"),E=h(e[3]),M=h("$/day"),T=x(),L=p("a"),O=h("Details\r\n            "),N=g("svg"),D=g("path"),v(o,"alt",l="Pictrue of "+e[0]+" car."),v(o,"class","flex-shrink-0 rounded-lg w-full h-48 object-cover object-center mb-2 leading-none"),i(o.src,s=e[4])||v(o,"src",s),v(b,"class","flex text-lg tracking-widest text-gray-200 title-font mb-1 font-medium px-2"),v($,"class","flex text-gray-400 mb-2 px-2"),v(S,"class","flex text-lg tracking-widest text-green-500 title-font mb-1 font-medium px-2"),v(c,"class","flex justify-between"),v(D,"d","M5 12h14M12 5l7 7-7 7"),v(N,"fill","none"),v(N,"stroke","currentColor"),v(N,"stroke-linecap","round"),v(N,"stroke-linejoin","round"),v(N,"stroke-width","2"),v(N,"class","w-4 h-4 ml-auto"),v(N,"viewBox","0 0 24 24"),v(L,"href",I="#/carDetails/"+e[2]),v(L,"class","flex items-center mt-auto text-white bg-green-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-green-600 rounded"),v(r,"class","h-full p-6 rounded-lg border-2 border-gray-700 flex flex-col relative overflow-hidden"),v(n,"class","p-4 xl:w-1/3 md:w-1/2 w-full")},m(t,e){d(t,n,e),u(n,r),u(r,o),u(r,a),u(r,c),u(c,m),u(m,b),u(b,y),u(m,k),u(m,$),u($,_),u($,C),u(c,j),u(c,S),u(S,E),u(S,M),u(r,T),u(r,L),u(L,O),u(L,N),u(N,D)},p(t,[e]){1&e&&l!==(l="Pictrue of "+t[0]+" car.")&&v(o,"alt",l),16&e&&!i(o.src,s=t[4])&&v(o,"src",s),1&e&&w(y,t[0]),2&e&&w(C,t[1]),8&e&&w(E,t[3]),4&e&&I!==(I="#/carDetails/"+t[2])&&v(L,"href",I)},i:t,o:t,d(t){t&&f(n)}}}function Ut(t,e,n){let{name:r}=e,{year:o}=e,{id:l}=e,{price:s}=e,{url:a}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"year"in t&&n(1,o=t.year),"id"in t&&n(2,l=t.id),"price"in t&&n(3,s=t.price),"url"in t&&n(4,a=t.url)},[r,o,l,s,a]}class Bt extends et{constructor(t){super(),tt(this,t,Ut,Rt,s,{name:0,year:1,id:2,price:3,url:4})}}function Ht(e){let n,r,o,s,a,c,i,m,g,h,b,w,k;return{c(){n=p("div"),r=p("span"),r.textContent="Sort by:",o=x(),s=p("div"),a=p("select"),c=p("option"),c.textContent="lowest price",i=p("option"),i.textContent="highest price",m=p("option"),m.textContent="newest first",g=p("option"),g.textContent="oldest first",h=x(),b=p("span"),b.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"></path></svg>',v(r,"class","mr-3"),c.__value="lp",c.value=c.__value,i.__value="hp",i.value=i.__value,m.__value="nf",m.value=m.__value,g.__value="of",g.value=g.__value,v(a,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-gray-900 appearance-none py-2 focus:outline-none focus:border-green-500 text-white pl-3 pr-10"),v(b,"class","absolute right-0 top-0 h-full w-10 text-center text-gray-600 pointer-events-none flex items-center justify-center"),v(s,"class","relative"),v(n,"class","flex ml-6 items-center")},m(t,f){d(t,n,f),u(n,r),u(n,o),u(n,s),u(s,a),u(a,c),u(a,i),u(a,m),u(a,g),u(s,h),u(s,b),w||(k=y(a,"change",(function(){l(e[0])&&e[0].apply(this,arguments)})),w=!0)},p(t,[n]){e=t},i:t,o:t,d(t){t&&f(n),w=!1,k()}}}function Pt(t,e,n){let{carsSort:r}=e;return t.$$set=t=>{"carsSort"in t&&n(0,r=t.carsSort)},[r]}class At extends et{constructor(t){super(),tt(this,t,Pt,Ht,s,{carsSort:0})}}function Ft(e){let n;return{c(){n=p("section"),n.innerHTML='<div class="container px-5 py-24 m-auto flex items-center content-center w-max"><svg aria-hidden="true" class="inline w-32 h-32 mr-2 text-gray-900 fill-gray-200 animate-spin" viewBox="0 0 100 101" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="white"></path></svg></div>',v(n,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}class Yt extends et{constructor(t){super(),tt(this,t,null,Ft,s,{})}}function zt(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function qt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Zt(e){let n,r,o,l,a,c,i,m=e[1];l=new At({props:{carsSort:e[3]}});let g=Wt(e);return{c(){n=p("div"),r=p("h1"),r.textContent="OUR CARS",o=x(),X(l.$$.fragment),a=x(),c=p("div"),g.c(),v(r,"class","md:text-5xl sm:text-4xl text-3xl font-medium title-font mb-4 text-white"),v(n,"class","flex flex-col text-center w-full mb-10"),v(c,"class","flex flex-wrap -m-4")},m(t,e){d(t,n,e),u(n,r),u(n,o),Q(l,n,null),d(t,a,e),d(t,c,e),g.m(c,null),i=!0},p(e,n){2&n&&s(m,m=e[1])?(Y(),Z(g,1,1,t),z(),g=Wt(e),g.c(),q(g,1),g.m(c,null)):g.p(e,n)},i(t){i||(q(l.$$.fragment,t),q(g),i=!0)},o(t){Z(l.$$.fragment,t),Z(g),i=!1},d(t){t&&f(n),K(l),t&&f(a),t&&f(c),g.d(t)}}}function Jt(t){let e,n;return e=new Bt({props:{id:t[5].id_cars,name:t[5].brand+" "+t[5].model,year:t[5].year,price:t[5].price,url:t[5].url}}),{c(){X(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[5].id_cars),1&n&&(r.name=t[5].brand+" "+t[5].model),1&n&&(r.year=t[5].year),1&n&&(r.price=t[5].price),1&n&&(r.url=t[5].url),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function Wt(t){let e,n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=Jt(zt(t,r,e));const l=t=>Z(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);d(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const l=zt(t,r,s);o[s]?(o[s].p(l,n),q(o[s],1)):(o[s]=Jt(l),o[s].c(),q(o[s],1),o[s].m(e.parentNode,e))}for(Y(),s=r.length;s<o.length;s+=1)l(s);z()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)q(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Z(o[t]);n=!1},d(t){m(o,t),t&&f(e)}}}function Gt(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function Vt(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Gt,then:Zt,catch:qt,blocks:[,,,]};return J(t[2],o),{c(){e=p("section"),n=p("div"),o.block.c(),v(n,"class","container px-5 py-24 mx-auto"),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,l){d(t,e,l),u(e,n),o.block.m(n,o.anchor=null),o.mount=()=>n,o.anchor=null,r=!0},p(e,[n]){W(o,t=e,n)},i(t){r||(q(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(o.blocks[t])}r=!1},d(t){t&&f(e),o.block.d(),o.token=null,o=null}}}function Xt(t,e,n){const r=async function(){const t=await fetch("./backend/getCars.php"),e=await t.json();return n(0,o=e.cars),o.sort(((t,e)=>t.price-e.price)),e.cars}();let o,l="lp";return[o,l,r,async function(t){n(1,l=t.target.value),"lp"==l?o.sort(((t,e)=>t.price-e.price)):"hp"==l?o.sort(((t,e)=>e.price-t.price)):"nf"==l?o.sort(((t,e)=>e.year-t.year)):"of"==l&&o.sort(((t,e)=>t.year-e.year))}]}class Qt extends et{constructor(t){super(),tt(this,t,Xt,Vt,s,{})}}function Kt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function te(e){let n,r,o,l,s,a;return{c(){n=p("div"),r=p("div"),r.innerHTML='<h1 class="sm:text-5xl text-4xl font-medium title-font mb-2 text-white">SIGN IN</h1>',o=x(),l=p("form"),l.innerHTML='<h2 class="text-white text-lg font-medium title-font mb-5">Sign in</h2> \n                <div class="relative mb-4"><label for="login" class="leading-7 text-sm text-gray-400">Username</label> \n                    <input type="text" id="login" name="login" class="w-full bg-gray-600 bg-opacity-20 focus:bg-transparent focus:ring-2 focus:ring-green-900 rounded border border-gray-600 focus:border-green-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"/></div> \n                <div class="relative mb-4"><label for="password" class="leading-7 text-sm text-gray-400">Password</label> \n                    <input type="password" id="password" name="password" class="w-full bg-gray-600 bg-opacity-20 focus:bg-transparent focus:ring-2 focus:ring-green-900 rounded border border-gray-600 focus:border-green-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"/></div> \n                <input type="submit" value="Sign in" class="text-white bg-green-500 border-0 py-2 px-8 mt-2 focus:outline-none hover:bg-green-600 rounded text-lg"/>',v(r,"class","flex flex-col text-center w-full mb-10"),v(l,"class","xl:w-2/5 lg:w-1/2 md:w-3/5 bg-gray-800 bg-opacity-50 rounded-lg p-8 flex flex-col md:mx-auto mx-6 mt-10 md:mt-0"),v(n,"class","container px-5 py-8 mx-auto")},m(t,c){d(t,n,c),u(n,r),u(n,o),u(n,l),s||(a=y(l,"submit",e[0]),s=!0)},p:t,i:t,o:t,d(t){t&&f(n),s=!1,a()}}}function ee(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function ne(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:ee,then:te,catch:Kt,blocks:[,,,]};return J(t[1],r),{c(){e=p("section"),r.block.c(),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,o){d(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){W(r,t=e,n)},i(t){n||(q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){Z(r.blocks[t])}n=!1},d(t){t&&f(e),r.block.d(),r.token=null,r=null}}}function re(t){return[async function(t){const e=document.getElementsByTagName("main")[0];t.preventDefault();let n={login:encodeURIComponent(t.target[0].value),password:encodeURIComponent(t.target[1].value)};if(0==n.login.length||0==n.password.length)return void bt(!0,"Username and password cannot be empty",e);const r=await fetch("./backend/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});(await r.json()).logged?(bt(!1,"Successfully logged in",e),setInterval((()=>{location.href="./"}),1e3)):bt(!0,"Wrong username or password",e)},async function(){const t=await xt();return t.logged&&(location.href="./"),t.logged}()]}class oe extends et{constructor(t){super(),tt(this,t,re,ne,s,{})}}function le(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function se(e){let n,r,o,l,s,a;return{c(){n=p("div"),r=p("div"),r.innerHTML='<h1 class="sm:text-5xl text-4xl font-medium title-font mb-2 text-white">SIGN UP</h1>',o=x(),l=p("form"),l.innerHTML='<h2 class="text-white text-lg font-medium title-font mb-5">Sign up</h2> \n                <div class="relative mb-4"><label for="login" class="leading-7 text-sm text-gray-400">Username</label> \n                    <input type="text" id="login" name="login" class="w-full bg-gray-600 bg-opacity-20 focus:bg-transparent focus:ring-2 focus:ring-green-900 rounded border border-gray-600 focus:border-green-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"/></div> \n                <div class="relative mb-4"><label for="password" class="leading-7 text-sm text-gray-400">Password</label> \n                    <input type="password" id="password" name="password" class="w-full bg-gray-600 bg-opacity-20 focus:bg-transparent focus:ring-2 focus:ring-green-900 rounded border border-gray-600 focus:border-green-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"/></div> \n                <input type="submit" value="Sign up" class="text-white bg-green-500 border-0 py-2 px-8 mt-2 focus:outline-none hover:bg-green-600 rounded text-lg"/>',v(r,"class","flex flex-col text-center w-full mb-10"),v(l,"class","xl:w-2/5 lg:w-1/2 md:w-3/5 bg-gray-800 bg-opacity-50 rounded-lg p-8 flex flex-col md:mx-auto mx-6 mt-10 md:mt-0"),v(n,"class","container px-5 py-8 mx-auto")},m(t,c){d(t,n,c),u(n,r),u(n,o),u(n,l),s||(a=y(l,"submit",e[0]),s=!0)},p:t,i:t,o:t,d(t){t&&f(n),s=!1,a()}}}function ae(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function ce(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:ae,then:se,catch:le,blocks:[,,,]};return J(t[1],r),{c(){e=p("section"),r.block.c(),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,o){d(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){W(r,t=e,n)},i(t){n||(q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){Z(r.blocks[t])}n=!1},d(t){t&&f(e),r.block.d(),r.token=null,r=null}}}function ie(t){return[async function(t){const e=document.getElementsByTagName("main")[0];t.preventDefault();let n={login:encodeURIComponent(t.target[0].value),password:encodeURIComponent(t.target[1].value)};0!=n.login.length&&0!=n.password.length||bt(!0,"Username and password cannot be empty",e);const r=await fetch("./backend/register.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if((await r.json()).registered){const t=await fetch("./backend/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});(await t.json()).logged?(bt(!1,"Successfully signed up and logged in",e),setInterval((()=>{location.href="./"}),1e3)):bt(!0,"Error accured",e)}else bt(!0,"User with that name already exists",e)},async function(){const t=await xt();return t.logged&&(location.href="./"),t.logged}()]}class ue extends et{constructor(t){super(),tt(this,t,ie,ce,s,{})}}function de(t,e,n){const r=t.slice();return r[2]=e[n],r[7]=n,r}function fe(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function me(t){let e,n,r,o,l={ctx:t,current:null,token:null,hasCatch:!1,pending:ve,then:ge,catch:pe,value:5,blocks:[,,,]};return J(t[0],l),{c(){e=p("div"),n=p("div"),n.innerHTML='<h1 class="sm:text-5xl text-4xl font-medium title-font mb-2 text-white">ADMIN</h1>',r=x(),l.block.c(),v(n,"class","flex flex-col text-center w-full mb-10"),v(e,"class","container px-5 py-8 mx-auto")},m(t,s){d(t,e,s),u(e,n),u(e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,o=!0},p(e,n){W(l,t=e,n)},i(t){o||(q(l.block),o=!0)},o(t){for(let t=0;t<3;t+=1){Z(l.blocks[t])}o=!1},d(t){t&&f(e),l.block.d(),l.token=null,l=null}}}function pe(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ge(e){let n,r,o,l,s,a=e[5],c=[];for(let t=0;t<a.length;t+=1)c[t]=ye(de(e,a,t));return{c(){n=p("div"),r=p("table"),o=p("thead"),o.innerHTML='<tr><th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tl rounded-bl">ID</th> \n                                <th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">Username</th> \n                                <th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">User type</th> \n                                <th class="w-10 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tr rounded-br"></th></tr>',l=x(),s=p("tbody");for(let t=0;t<c.length;t+=1)c[t].c();v(r,"class","table-auto w-full text-left whitespace-no-wrap"),v(n,"class","lg:w-1/2 w-full mx-auto overflow-auto")},m(t,e){d(t,n,e),u(n,r),u(r,o),u(r,l),u(r,s);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(s,null)},p(t,e){if(3&e){let n;for(a=t[5],n=0;n<a.length;n+=1){const r=de(t,a,n);c[n]?c[n].p(r,e):(c[n]=ye(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:t,o:t,d(t){t&&f(n),m(c,t)}}}function he(t){let e,n,r;return{c(){e=p("option"),e.textContent="mod",n=p("option"),n.textContent="activateUser",r=p("option"),r.textContent="user",e.__value="mod",e.value=e.__value,n.__value="activateUser",n.value=n.__value,r.__value="user",r.value=r.__value,r.selected=!0},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function xe(t){let e,n,r;return{c(){e=p("option"),e.textContent="mod",n=p("option"),n.textContent="activateUser",r=p("option"),r.textContent="user",e.__value="mod",e.value=e.__value,n.__value="activateUser",n.value=n.__value,n.selected=!0,r.__value="user",r.value=r.__value},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function be(t){let e,n,r;return{c(){e=p("option"),e.textContent="mod",n=p("option"),n.textContent="activateUser",r=p("option"),r.textContent="user",e.__value="mod",e.value=e.__value,e.selected=!0,n.__value="activateUser",n.value=n.__value,r.__value="user",r.value=r.__value},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function ye(t){let e,n,r,o,l,s,a,c,i,m,g,b,w,k,$,_,C,j,S=t[2].id_users+"",E=decodeURIComponent(t[2].login)+"";let M=function(t,e){return"mod"==t[2].account_type?be:"activateUser"==t[2].account_type?xe:"user"==t[2].account_type?he:void 0}(t),T=M&&M(t);function L(){return t[3](t[2],t[7])}return{c(){e=p("tr"),n=p("td"),r=h(S),o=x(),l=p("td"),s=h(E),a=x(),c=p("td"),i=p("div"),m=p("select"),T&&T.c(),g=x(),b=p("span"),b.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"></path></svg>',w=x(),k=p("td"),$=p("button"),$.textContent="Save",_=x(),v(n,"class","px-4 py-3"),v(l,"class","px-4 py-3"),v(m,"id","select"+t[7]),v(m,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-gray-900 appearance-none py-1 focus:outline-none focus:border-green-500 text-gray-200 pl-3 pr-10"),v(b,"class","absolute right-0 top-0 h-full w-10 text-center text-gray-600 pointer-events-none flex items-center justify-center"),v(i,"class","relative"),v(c,"class","px-4 py-3 flex"),v($,"class","bg-green-500 border-0 py-1 px-3 focus:outline-none hover:bg-green-600 rounded text-base text-white"),v(k,"class","px-4 py-3 w-10 text-center")},m(t,f){d(t,e,f),u(e,n),u(n,r),u(e,o),u(e,l),u(l,s),u(e,a),u(e,c),u(c,i),u(i,m),T&&T.m(m,null),u(i,g),u(i,b),u(e,w),u(e,k),u(k,$),u(e,_),C||(j=y($,"click",L),C=!0)},p(e,n){t=e},d(t){t&&f(e),T&&T.d(),C=!1,j()}}}function ve(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function we(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function ke(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:we,then:me,catch:fe,blocks:[,,,]};return J(t[2],r),{c(){e=p("section"),r.block.c(),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,o){d(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){W(r,t=e,n)},i(t){n||(q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){Z(r.blocks[t])}n=!1},d(t){t&&f(e),r.block.d(),r.token=null,r=null}}}function $e(t){const e=async function(){const t=await xt();return"admin"!=t.account_type&&(location.href="./"),t.logged}();async function n(t,e){const n=new FormData;n.append("id_users",t.id_users),n.append("account_type",document.getElementById("select"+e).value);const r=await fetch("./backend/changeUserType.php",{method:"POST",body:n,mode:"no-cors"});await r.json(),bt(!1,"Successfully changed "+t.login+"'s user type"),setInterval((()=>{location.reload()}),1500)}return[async function(){const t=await fetch("./backend/getUsers.php");return await t.json()}(),n,e,(t,e)=>n(t,e)]}class _e extends et{constructor(t){super(),tt(this,t,$e,ke,s,{})}}function Ce(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function je(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Se(t){let e,n,r,o,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Re,then:Me,catch:Ee,value:9,blocks:[,,,]};return J(t[1],l),{c(){e=p("div"),n=p("div"),n.innerHTML='<h1 class="sm:text-5xl text-4xl font-medium title-font mb-2 text-white">MY RESERVATIONS</h1>',r=x(),l.block.c(),v(n,"class","flex flex-col text-center w-full mb-10"),v(e,"class","container px-5 py-8 mx-auto")},m(t,s){d(t,e,s),u(e,n),u(e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,o=!0},p(e,n){W(l,t=e,n)},i(t){o||(q(l.block),o=!0)},o(t){for(let t=0;t<3;t+=1){Z(l.blocks[t])}o=!1},d(t){t&&f(e),l.block.d(),l.token=null,l=null}}}function Ee(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Me(e){let n,r,o,l,s,a=e[9].reservations,c=[];for(let t=0;t<a.length;t+=1)c[t]=Ie(Ce(e,a,t));return{c(){n=p("div"),r=p("table"),o=p("thead"),o.innerHTML='<tr><th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tl rounded-bl">Model</th> \n                                <th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">Year</th> \n                                <th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">Start</th> \n                                <th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">End</th> \n                                <th class="px-4 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">Status</th> \n                                <th class="w-10 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tr rounded-br"></th></tr>',l=x(),s=p("tbody");for(let t=0;t<c.length;t+=1)c[t].c();v(r,"class","table-auto w-full text-left whitespace-no-wrap"),v(n,"class","lg:w-1/2 w-full mx-auto overflow-auto")},m(t,e){d(t,n,e),u(n,r),u(r,o),u(r,l),u(r,s);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(s,null)},p(t,e){if(14&e){let n;for(a=t[9].reservations,n=0;n<a.length;n+=1){const r=Ce(t,a,n);c[n]?c[n].p(r,e):(c[n]=Ie(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:t,o:t,d(t){t&&f(n),m(c,t)}}}function Te(e){let n,r,o=e[10].status+"";return{c(){n=p("p"),r=h(o),v(n,"class","rejected"==e[10].status?"text-red-600":"text-white")},m(t,e){d(t,n,e),u(n,r)},p:t,d(t){t&&f(n)}}}function Le(e){let n,r=e[10].status+"";return{c(){n=h(r)},m(t,e){d(t,n,e)},p:t,d(t){t&&f(n)}}}function Oe(t){let e,n,r,o,l=t[10].status+"";function s(){return t[4](t[10])}return{c(){e=p("button"),n=h(l),v(e,"class","text-green-600 cursor-pointer underline border-none")},m(t,l){d(t,e,l),u(e,n),r||(o=y(e,"click",s),r=!0)},p(e,n){t=e},d(t){t&&f(e),r=!1,o()}}}function Ne(t){let e,n,r;function o(){return t[6](t[10])}return{c(){e=p("button"),e.textContent="Return",v(e,"class","bg-green-500 border-0 py-1 px-3 focus:outline-none hover:bg-green-600 rounded text-base text-white")},m(t,l){d(t,e,l),n||(r=y(e,"click",o),n=!0)},p(e,n){t=e},d(t){t&&f(e),n=!1,r()}}}function De(t){let e,n,r;function o(){return t[5](t[10])}return{c(){e=p("button"),e.textContent="Cancel",v(e,"class","bg-red-600 border-0 py-1 px-3 focus:outline-none hover:bg-red-700 rounded text-base text-white")},m(t,l){d(t,e,l),n||(r=y(e,"click",o),n=!0)},p(e,n){t=e},d(t){t&&f(e),n=!1,r()}}}function Ie(t){let e,n,r,o,l,s,a,c,i,m,g,b,y,w,k,$,_,C,j,S=t[10].brand+"",E=t[10].model+"",M=t[10].year+"",T=t[10].start_time+"",L=t[10].end_time+"";let O=function(t,e){return"accepted"==t[10].status?Oe:"ended"==t[10].status?Le:Te}(t),N=O(t);let D=function(t,e){return"waiting"==t[10].status?De:"accepted"==t[10].status?Ne:void 0}(t),I=D&&D(t);return{c(){e=p("tr"),n=p("td"),r=h(S),o=x(),l=h(E),s=x(),a=p("td"),c=h(M),i=x(),m=p("td"),g=h(T),b=x(),y=p("td"),w=h(L),k=x(),$=p("td"),N.c(),_=x(),C=p("td"),I&&I.c(),j=x(),v(n,"class","px-4 py-3"),v(a,"class","px-4 py-3"),v(m,"class","px-4 py-3"),v(y,"class","px-4 py-3"),v($,"class","px-4 py-3"),v(C,"class","px-4 py-3 w-10 text-center")},m(t,f){d(t,e,f),u(e,n),u(n,r),u(n,o),u(n,l),u(e,s),u(e,a),u(a,c),u(e,i),u(e,m),u(m,g),u(e,b),u(e,y),u(y,w),u(e,k),u(e,$),N.m($,null),u(e,_),u(e,C),I&&I.m(C,null),u(e,j)},p(t,e){N.p(t,e),I&&I.p(t,e)},d(t){t&&f(e),N.d(),I&&I.d()}}}function Re(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function Ue(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function Be(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Ue,then:Se,catch:je,blocks:[,,,]};return J(t[0](),r),{c(){e=p("section"),r.block.c(),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,o){d(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){W(r,t=e,n)},i(t){n||(q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){Z(r.blocks[t])}n=!1},d(t){t&&f(e),r.block.d(),r.token=null,r=null}}}function He(t){let e=document.getElementsByTagName("main")[0];async function n(t){let n=new FormData;n.append("id_reservations",t);const r=await fetch("./backend/cancelReservation.php",{method:"POST",body:n,mode:"no-cors"});await r.json(),bt(!1,"Reservation canceled",e),setInterval((()=>{location.reload()}),2e3)}async function r(t){let n=new FormData;n.append("id_reservations",t);const r=await fetch("./backend/returnCar.php",{method:"POST",body:n,mode:"no-cors"});await r.json(),bt(!1,"Successfully returned the car",e),setInterval((()=>{location.reload()}),2e3)}return[async function(){const t=await xt();return t.logged||(location.href="./"),t.logged},async function(){const t=await fetch("./backend/getReservations.php"),n=await t.json();return n.reservations.forEach((t=>{Date.parse(t.end_time)-Date.parse((new Date).toISOString().slice(0,10))<0&&"accepted"==t.status&&bt(!0,"Return the car",e)})),n}(),n,r,t=>{!function(t){let e=document.getElementsByTagName("main")[0],n=document.createElement("div");n.id="qr",n.className="fixed w-full h-full bg-black bg-opacity-50",n.addEventListener("click",(()=>{e.removeChild(n)}));let r=document.createElement("div");r.className="container mx-auto flex flex-col px-5 py-24 justify-center items-center",new QRCode(r,JSON.stringify(t)),n.appendChild(r),e.appendChild(n)}(t)},t=>n(t.id_reservations),t=>r(t.id_reservations)]}class Pe extends et{constructor(t){super(),tt(this,t,He,Be,s,{})}}function Ae(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Fe(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ye(t){let e,n,r,o,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Ve,then:qe,catch:ze,value:4,blocks:[,,,]};return J(t[1],l),{c(){e=p("div"),n=p("div"),n.innerHTML='<h1 class="sm:text-5xl text-4xl font-medium title-font mb-2 text-white">MOD</h1>',r=x(),l.block.c(),v(n,"class","flex flex-col text-center w-full mb-10"),v(e,"class","container px-5 py-8 mx-auto")},m(t,s){d(t,e,s),u(e,n),u(e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,o=!0},p(e,n){W(l,t=e,n)},i(t){o||(q(l.block),o=!0)},o(t){for(let t=0;t<3;t+=1){Z(l.blocks[t])}o=!1},d(t){t&&f(e),l.block.d(),l.token=null,l=null}}}function ze(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function qe(e){let n,r,o,l,s,a=e[4].reservate,c=[];for(let t=0;t<a.length;t+=1)c[t]=Ge(Ae(e,a,t));return{c(){n=p("div"),r=p("table"),o=p("thead"),o.innerHTML='<tr><th class="px-2 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tl rounded-bl">Car ID</th> \n                                <th class="px-2 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tl rounded-bl">Model</th> \n                                <th class="px-2 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">User</th> \n                                <th class="px-2 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">Start</th> \n                                <th class="px-2 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">End</th> \n                                <th class="px-2 py-3 title-font tracking-wider font-medium text-white text-sm bg-gray-800">Status</th> \n                                <th class="w-10 title-font tracking-wider font-medium text-white text-sm bg-gray-800 rounded-tr rounded-br"></th></tr>',l=x(),s=p("tbody");for(let t=0;t<c.length;t+=1)c[t].c();v(r,"class","table-auto w-full whitespace-no-wrap text-center"),v(n,"class","w-full mx-auto overflow-auto")},m(t,e){d(t,n,e),u(n,r),u(r,o),u(r,l),u(r,s);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(s,null)},p(t,e){if(6&e){let n;for(a=t[4].reservate,n=0;n<a.length;n+=1){const r=Ae(t,a,n);c[n]?c[n].p(r,e):(c[n]=Ge(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:t,o:t,d(t){t&&f(n),m(c,t)}}}function Ze(t){let e,n,r;return{c(){e=p("option"),e.textContent="waiting",n=p("option"),n.textContent="accepted",r=p("option"),r.textContent="rejected",e.__value="waiting",e.value=e.__value,n.__value="accepted",n.value=n.__value,r.__value="rejected",r.value=r.__value,r.selected=!0},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function Je(t){let e,n,r;return{c(){e=p("option"),e.textContent="waiting",n=p("option"),n.textContent="accepted",r=p("option"),r.textContent="rejected",e.__value="waiting",e.value=e.__value,n.__value="accepted",n.value=n.__value,n.selected=!0,r.__value="rejected",r.value=r.__value},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function We(t){let e,n,r;return{c(){e=p("option"),e.textContent="waiting",n=p("option"),n.textContent="accepted",r=p("option"),r.textContent="rejected",e.__value="waiting",e.value=e.__value,e.selected=!0,n.__value="accepted",n.value=n.__value,r.__value="rejected",r.value=r.__value},m(t,o){d(t,e,o),d(t,n,o),d(t,r,o)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function Ge(t){let e,n,r,o,l,s,a,c,i,m,g,b,w,k,_,C,j,S,E,M,T,L,O,N,D,I,R,U,B,H,P=t[5].id_cars+"",A=t[5].brand+"",F=t[5].model+"",Y=t[5].login+"";let z=function(t,e){return"waiting"==t[5].status?We:"accepted"==t[5].status?Je:"rejected"==t[5].status?Ze:void 0}(t),q=z&&z(t);function Z(){return t[3](t[5],t[7])}return{c(){e=p("tr"),n=p("td"),r=h(P),o=x(),l=p("td"),s=h(A),a=x(),c=h(F),i=x(),m=p("td"),g=h(Y),b=x(),w=p("td"),k=p("input"),_=x(),C=p("td"),j=p("input"),S=x(),E=p("td"),M=p("div"),T=p("div"),L=p("select"),q&&q.c(),O=x(),N=p("span"),N.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"></path></svg>',D=x(),I=p("td"),R=p("button"),R.textContent="Update",U=x(),v(n,"class","px-2 py-3"),v(l,"class","px-2 py-3"),v(m,"class","px-2 py-3"),v(k,"id","start_time"+t[7]),k.value=t[5].start_time,$(k,"color-scheme","dark"),v(k,"type","date"),v(k,"name","start_time"),v(k,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-transparent appearance-none py-1 focus:outline-none focus:border-green-500 text-white px-2 text-sm"),v(w,"class","px-2 py-3"),v(j,"id","end_time"+t[7]),j.value=t[5].end_time,$(j,"color-scheme","dark"),v(j,"type","date"),v(j,"name","end_time"),v(j,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-transparent appearance-none py-1 focus:outline-none focus:border-green-500 text-white px-2 text-sm"),v(C,"class","px-2 py-3"),v(L,"id","select"+t[7]),v(L,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-gray-900 appearance-none py-1 focus:outline-none focus:border-green-500 text-gray-200 pl-3 pr-10 text-sm"),v(N,"class","absolute right-0 top-0 h-full w-10 text-center text-gray-600 pointer-events-none flex items-center justify-center"),v(T,"class","relative"),v(M,"class","flex justify-center items-center"),v(E,"class","px-2 py-3"),v(R,"class","bg-green-500 border-0 py-1 px-3 focus:outline-none hover:bg-green-600 rounded text-base text-white"),v(I,"class","px-2 py-3 w-10 text-center")},m(t,f){d(t,e,f),u(e,n),u(n,r),u(e,o),u(e,l),u(l,s),u(l,a),u(l,c),u(e,i),u(e,m),u(m,g),u(e,b),u(e,w),u(w,k),u(e,_),u(e,C),u(C,j),u(e,S),u(e,E),u(E,M),u(M,T),u(T,L),q&&q.m(L,null),u(T,O),u(T,N),u(e,D),u(e,I),u(I,R),u(e,U),B||(H=y(R,"click",Z),B=!0)},p(e,n){t=e},d(t){t&&f(e),q&&q.d(),B=!1,H()}}}function Ve(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function Xe(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function Qe(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Xe,then:Ye,catch:Fe,blocks:[,,,]};return J(t[0](),r),{c(){e=p("section"),r.block.c(),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,o){d(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){W(r,t=e,n)},i(t){n||(q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){Z(r.blocks[t])}n=!1},d(t){t&&f(e),r.block.d(),r.token=null,r=null}}}function Ke(t){async function e(t,e){let n=document.getElementById("select"+e).value,r=document.getElementById("start_time"+e).value,o=document.getElementById("end_time"+e).value,l=new FormData;l.append("id_reservations",t),l.append("status",n),l.append("start_time",r),l.append("end_time",o);const s=await fetch("./backend/updateReservation.php",{method:"POST",body:l,mode:"no-cors"});await s.json(),bt(!1,"Reservation updated",document.getElementsByTagName("main")[0]),setInterval((()=>{location.reload()}),3e3)}return[async function(){const t=await xt();return t.logged||(location.href="./"),t.logged},async function(){const t=await fetch("./backend/getAllReservations.php");return await t.json()}(),e,(t,n)=>e(t.id_reservations,n)]}class tn extends et{constructor(t){super(),tt(this,t,Ke,Qe,s,{})}}function en(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function nn(e){let n,r,l,s,a,c,m,g,b,_,C,j,S,E,M,T,L,O,N,D,I,R,U,B,H,P,A,F,Y,z,q,Z,J,W,G,V,X,Q,K,tt,et,nt,rt,ot,lt,st,at,ct,it=e[13].brand+"",ut=e[13].model+"",dt=e[13].year+"",ft=e[13].price+"";return{c(){n=p("div"),r=p("div"),r.innerHTML='<h1 class="sm:text-5xl text-4xl font-medium title-font mb-2 text-white">CAR DETAILS</h1>',l=x(),s=p("div"),a=p("img"),m=x(),g=p("form"),b=p("h1"),_=h(it),C=x(),j=h(ut),S=x(),E=p("div"),M=p("div"),T=p("p"),L=h("Year: "),O=h(dt),N=x(),D=p("div"),I=p("span"),I.textContent="Color:",R=x(),U=p("div"),B=x(),H=p("h2"),P=h(ft),A=h("$/day"),F=x(),Y=p("div"),z=p("div"),q=p("label"),q.textContent="Start",Z=x(),J=p("input"),W=x(),G=p("div"),V=p("label"),V.textContent="End",X=x(),Q=p("input"),K=x(),tt=p("div"),et=p("span"),nt=h("$"),rt=h(e[0]),ot=h(".00"),lt=x(),st=p("input"),v(r,"class","flex flex-col text-center w-full mb-10"),v(a,"alt","Pictrue of "+e[13].brand+" "+e[13].model+" car."),v(a,"class","lg:w-1/2 w-full lg:h-auto h-64 object-cover object-center rounded"),i(a.src,c=e[13].url)||v(a,"src",c),v(b,"class","text-white text-3xl title-font font-medium mb-1"),v(T,"class","leading-relaxed"),$(U,"background-color",e[13].color),v(U,"class","border-2 border-gray-800 ml-1 rounded-full w-6 h-6"),v(D,"class","flex"),v(H,"class","flex text-lg tracking-widest text-green-500 title-font mb-1 font-medium px-2"),v(E,"class","flex justify-between"),v(q,"for","start_time"),v(q,"class","leading-7 text-sm text-gray-400"),v(J,"min",(new Date).toISOString().slice(0,10)),$(J,"color-scheme","dark"),v(J,"type","date"),v(J,"name","start_time"),v(J,"id","start_time"),v(J,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-transparent appearance-none py-2 focus:outline-none focus:border-green-500 text-white px-3"),v(z,"class","relative mb-4"),v(V,"for","end_time"),v(V,"class","leading-7 text-sm text-gray-400"),v(Q,"min",e[1]),$(Q,"color-scheme","dark"),v(Q,"type","date"),v(Q,"name","end_time"),v(Q,"id","end_time"),v(Q,"class","rounded border border-gray-700 focus:ring-2 focus:ring-green-900 bg-transparent appearance-none py-2 focus:outline-none focus:border-green-500 text-white px-3"),v(G,"class","relative mb-4"),v(Y,"class","flex mt-1 items-center lg:justify-between justify-evenly pb-5 border-b-2 border-gray-800 mb-5"),v(et,"class","title-font font-medium text-2xl text-white"),v(st,"class","flex ml-auto text-white bg-green-500 border-0 py-2 px-6 focus:outline-none hover:bg-green-600 rounded cursor-pointer"),v(st,"type","submit"),st.value="Reserve",v(tt,"class","flex"),v(g,"class","lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0"),v(s,"class","lg:w-4/5 mx-auto flex flex-wrap"),v(n,"class","container px-5 py-8 mx-auto")},m(t,o){d(t,n,o),u(n,r),u(n,l),u(n,s),u(s,a),u(s,m),u(s,g),u(g,b),u(b,_),u(b,C),u(b,j),u(g,S),u(g,E),u(E,M),u(M,T),u(T,L),u(T,O),u(M,N),u(M,D),u(D,I),u(D,R),u(D,U),u(E,B),u(E,H),u(H,P),u(H,A),u(g,F),u(g,Y),u(Y,z),u(z,q),u(z,Z),u(z,J),k(J,e[1]),u(Y,W),u(Y,G),u(G,V),u(G,X),u(G,Q),k(Q,e[2]),u(g,K),u(g,tt),u(tt,et),u(et,nt),u(et,rt),u(et,ot),u(tt,lt),u(tt,st),at||(ct=[y(J,"input",e[7]),y(Q,"input",e[8]),y(g,"submit",e[5]),y(g,"change",e[4])],at=!0)},p(t,e){2&e&&k(J,t[1]),2&e&&v(Q,"min",t[1]),4&e&&k(Q,t[2]),1&e&&w(rt,t[0])},i:t,o:t,d(t){t&&f(n),at=!1,o(ct)}}}function rn(e){let n,r;return n=new Yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){K(n,t)}}}function on(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:rn,then:nn,catch:en,value:13,blocks:[,,,]};return J(t[3](),r),{c(){e=p("section"),r.block.c(),v(e,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,o){d(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){W(r,t=e,n)},i(t){n||(q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){Z(r.blocks[t])}n=!1},d(t){t&&f(e),r.block.d(),r.token=null,r=null}}}function ln(t,e,n){let r,{params:o}=e;async function l(){return(await xt()).logged}l();let s=0,a=(new Date).toISOString().slice(0,10),c="";let i=document.getElementsByTagName("main")[0];return t.$$set=t=>{"params"in t&&n(6,o=t.params)},[s,a,c,async function(){const t=await fetch("./backend/getCar.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({car_id:o.id})}),e=await t.json();return r=e.cars[0],e.cars[0]},async function(){""!=c&&(Date.parse(c)-Date.parse(a)<0?(n(0,s=0),n(2,c="")):n(0,s=((Date.parse(c)-Date.parse(a))/864e5+1)*r.price))},async function(t){if(t.preventDefault(),""==c)return void bt(!0,"Wrong reservation end date",i);if(!await l())return void bt(!0,"You must be logged in",i);let e=new FormData;e.append("id_cars",r.id_cars),e.append("start_time",a),e.append("end_time",c);let n=await fetch("./backend/reservate.php",{method:"POST",body:e,mode:"no-cors"});n=await n.json(),bt(!1,"Reservation waiting to be accepted by the moderator",i),setInterval((()=>{location.href="./"}),2e3)},o,function(){a=this.value,n(1,a)},function(){c=this.value,n(2,c)}]}class sn extends et{constructor(t){super(),tt(this,t,ln,on,s,{params:6})}}function an(e){let n;return{c(){n=p("section"),n.innerHTML='<div class="container px-5 py-24 m-auto"><div class="flex flex-col text-center w-full mb-10"><h1 class="md:text-6xl sm:text-5xl text-3xl font-medium title-font text-white">404 NOT FOUND</h1></div></div>',v(n,"class","text-gray-400 bg-gray-900 body-font overflow-hidden")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}class cn extends et{constructor(t){super(),tt(this,t,null,an,s,{})}}function un(e){let n,r,o,l,s,a,c,i,m;return n=new nt({}),l=new Nt({}),a=new pt({props:{routes:{"/":Qt,"/reservations":Pe,"/mod":tn,"/login":oe,"/register":ue,"/admin":_e,"/carDetails/:id":sn,"*":cn}}}),i=new It({}),{c(){X(n.$$.fragment),r=x(),o=p("main"),X(l.$$.fragment),s=x(),X(a.$$.fragment),c=x(),X(i.$$.fragment),v(o,"class","svelte-4pdtbb")},m(t,e){Q(n,t,e),d(t,r,e),d(t,o,e),Q(l,o,null),u(o,s),Q(a,o,null),u(o,c),Q(i,o,null),m=!0},p:t,i(t){m||(q(n.$$.fragment,t),q(l.$$.fragment,t),q(a.$$.fragment,t),q(i.$$.fragment,t),m=!0)},o(t){Z(n.$$.fragment,t),Z(l.$$.fragment,t),Z(a.$$.fragment,t),Z(i.$$.fragment,t),m=!1},d(t){K(n,t),t&&f(r),t&&f(o),K(l),K(a),K(i)}}}return new class extends et{constructor(t){super(),tt(this,t,null,un,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
